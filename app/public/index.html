<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>üå§ Weather Woof üê∂</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!--FONTS-->
    <link href='https://fonts.googleapis.com/css?family=Raleway:900,300,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery UI CSS -->
    <link href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" type="text/css" rel="stylesheet">
    <!-- Bootstrap styling for Typeahead -->
    <link href="static/css/tokenfield-typeahead.css" type="text/css" rel="stylesheet">
    <!-- Tokenfield CSS -->
    <link href="static/css/bootstrap-tokenfield.css" type="text/css" rel="stylesheet">
    <!--CSS-->
    <link rel="stylesheet" type="text/css" href="static/css/grid.css">
    <link rel="stylesheet" type="text/css" href="static/css/main.css">
    <link rel="stylesheet" type="text/css" href="static/css/layout.css">
    <link rel="stylesheet" type="text/css" href="static/css/main2.css" />
    <link rel="stylesheet" type="text/css" href="static/css/jquery.bxslider.css">
    <link rel="stylesheet" type="text/css" href="static/css/responsive.css">
    <link rel="stylesheet" type="text/css" href="static/css/animate.css">
    <!--JS-->
    <script type="text/javascript">
        var embedCode = '<iframe src="https://www.youtube.com/embed/-CpvBYE-rd8?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe>'
    </script>
    <script src="static/js/modernizr.custom.js"></script>
</head>

<body>
    <!-- Paste this code after body tag -->
    <div class="se-pre-con">
        <div class="cssload-square">
            <div>
                <div>
                    <div>
                        <div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div>
                    <div>
                        <div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="cssload-square cssload-two">
            <div>
                <div>
                    <div>
                        <div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div>
                    <div>
                        <div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Ends -->
    <h2>
        Weather Woof
    </h2>

    <div class="homebanner" id="home">
        <div class="container">
            <h1 class="os-animation" data-os-animation="bounceIn" data-os-animation-delay="0.2s">Enter your dog's info
            </h1>
            <span class="line os-animation" data-os-animation="bounceIn" data-os-animation-delay="0.4s"></span>
            <p class="os-animation" data-os-animation="bounceIn" data-os-animation-delay="0.6s">To see if you should walk them right now.</p>

            <div class="form">
                <div class="input-field col-sm-12">
                        <div class="form-group">
                            <label for="ZIPcode">ZIP code</label>
                            <input type="email" class="form-control zipCode" id="exampleFormControlInput1"
                                placeholder="Enter Your ZIP code">
                        </div>
                    </div>
                    <div class="input-field col-sm-12">
                        <div id="breedinput">
                            <div class="form-group">
                                    <label for="breed">Breed(s)</label>
                                <input type="text" class="form-control typeahead" id="tokenfield-typeahead" value=""
                                    placeholder="Type your dog's breed(s)" />
                            </div>
                        </div>
                    </div>
                
                    <div class="input-field col-sm-12">
                        <div class="form-group">
                            <label for="furColor">Fur Color</label>
                            <select class="form-control furColor" id="exampleFormControlSelect1">
                                <option value="" disabled selected>Your Dog's Fur Color</option>
                                <option>Tan</option>
                                <option>Black</option>
                                <option>White</option>
                                <option>Grey</option>
                                <option>Multi - Mostly Light Colored</option>
                                <option>Multi - Mostly Dark Colored</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                    <div class="input-field col-sm-12">
                        <div class="form-group">
                            <label for="health">Health</label>
                            <select class="form-control health" id="exampleFormControlSelect1">
                                <option value="" disabled selected>Your Dog's Overall Health</option>
                                <option value="excellent">Excellent</option>
                                <option value="good">Good</option>
                                <option value="average">Average</option>
                                <option value="poor">Poor</option>
                                <option value="very poor">Very Poor</option>
                            </select>
                        </div>
                    </div>
                
                    <div class="input-field col-sm-12">
                        <div class="form-group">
                            <label for="age">Age</label>
                            <select class="form-control age" id="exampleFormControlSelect1">
                                <option value="" disabled selected>Your Dog's Age</option>
                                <option value="puppy">Puppy</option>
                                <option value="adult">Adult</option>
                                <option value="senior">Senior</option>
                                <option value="unknown">Unknown</option>
                            </select>
                        </div>
                    </div>
                
                    <div class="input-field col-sm-12">
                        <div class="form-group">
                            <label for="weight">Weight</label>
                            <select class="form-control weight" id="exampleFormControlSelect1">
                                <option value="" disabled selected>Is Your Dog Considered Overweight?</option>
                                <option value="1">Yes</option>
                                <option value="2">No</option>
                                <option value="3">Not sure</option>
                            </select>
                        </div>
                    </div>
                
                    <button type="submit" data-toggle="modal" data-target="#dogModal" class="btn btn-primary"
                        id="submit">Submit</button>

            <a href="#about" class="os-animation" data-os-animation="bounceIn" data-os-animation-delay="0.8s"><img
                    src="static/images/mouse.png" alt="" /></a>
        </div>
    </div>

    <!-- Modal Structure -->

    <div class="modal" id="dogModal" tabindex="-1" role="dialog" aria-labelledby="dogModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Should I Walk My Dog?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="reason"></p>
                    <p id="reason-explanation"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {

            $('#myModal').on('shown.bs.modal', function () {
                $('#myInput').trigger('focus')
            })

            var dogBreedsList = [];

            $(function () {
                $.getJSON("static/js/breedlist.json", function (json) {
                    // console.log("success")
                    for (i = 0; i < json.length; i++) {
                        dogBreeds = json[i].breed;
                        dogBreedsList.push(dogBreeds)
                    }

                    $('#tokenfield-typeahead').tokenfield({
                        autocomplete: {
                            source:
                                dogBreedsList,
                            delay: 100
                        },
                        showAutocompleteOnFocus: true
                    });
                });
            })

            // Constructing the suggestion engine


            $("#submit").on("click", function (event) {
                event.preventDefault();
                var weight = $('.weight').val();
                var healthSelection = $('.health')[0];
                var health = healthSelection.options[healthSelection.selectedIndex].text;
                var specificBreed = $('input.typeahead').val();
                var weightSelectionQuestion = $(".weight")[0];
                var weightQuestion = weightSelectionQuestion.options[weightSelectionQuestion.selectedIndex].text;
                var colorSelection = $(".furColor")[0];
                var furColor = colorSelection.options[colorSelection.selectedIndex].text;
                var ageSelection = $(".age")[0];
                var age = ageSelection.options[ageSelection.selectedIndex].text;
                var key = '7f7b945e91014239992145942191307';
                var zip = $(".zipCode").val();

                var weatherFunction = getWeather(zip);

                var formData = {
                    // weight: weight,
                    health: health,
                    specifiedBreed: specificBreed,
                    weightQuestion: weightQuestion,
                    furColor: furColor,
                    age: age,
                    zip: zip,
                    feelsLike: weatherFunction.feelsLike,
                    condition: weatherFunction.condition,
                };

                var currentURL = window.location.origin;

                $.post(currentURL + "/api/dogstested", formData, function (data) {
                    $("#reason").text(data.shouldntwalk) + $("#reason-explanation").text(data.reason);
                })
                // $(".input-field")[0].reset();
            });

        });

    </script>
    <!-- Jquery -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
    <!-- Jquery UI -->
    <script type="text/javascript" src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <!-- Tokenfield -->
    <script type="text/javascript" src="static/js/bootstrap-tokenfield.js"></script>
    <!-- Typeahead -->
    <script type="text/javascript" src="static/js/typeahead.bundle.js" charset="UTF-8"></script>
    <!-- Bootstrap -->
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <!-- Dog API -->
    <script type="text/javascript" src="static/js/dogapi.js"></script>
    <!-- Weather API -->
    <script type="text/javascript" src="static/js/weatherapi.js"></script>
    <!--Template-->
    <script src="static/js/classie.js"></script>
    <script src="static/js/borderMenu.js"></script>
    <script src="static/js/jquery.mixitup.min.js"></script>
    <script src="static/js/jquery.bxslider.js"></script>
    <script src="static/js/waypoints.min.js"></script>
    <script src="static/js/script.js"></script>
</body>

</html>